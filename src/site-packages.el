;;; emacs.el --- Entry point
;;; -*- lexical-binding: t; -*-
;;; Commentary:
;;; Code:

(require 'use-package)

(use-package evil
  :commands evil-define-minor-key evil-insert
  :init (setq
	 evil-want-C-u-scroll t
	 evil-want-integration t
	 evil-want-keybinding nil)
  :config
  (evil-mode))

(use-package evil-collection
  :after evil
  :commands
  evil-collection-dired-setup
  evil-collection-eshell-setup
  evil-collection-magit-setup)

(use-package ivy
  :diminish ivy-mode
  :commands ivy-resume
  :config
  (setq ivy-use-virtual-buffers t)
  (setq enable-recursive-minibuffers t)
  (setq ivy-count-format "(%d/%d) ")
  :bind
  ("C-c C-r" . 'ivy-resume))

(use-package counsel
  :after ivy
  :commands
  counsel-find-file
  counsel-grep-or-swiper
  counsel-M-x
  counsel-describe-function
  counsel-describe-variable
  counsel-find-library
  :bind
  ("\C-s" . 'counsel-grep-or-swiper)
  ("C-x C-f" . 'counsel-find-file)
  ("C-h f" . 'counsel-describe-function)
  ("C-h v" . 'counsel-describe-variable)
  ("C-h l" . 'counsel-find-library)
  ("M-i" . 'counsel-imenu))

(use-package swiper
  :after ivy)

(use-package projectile
  :after ivy
  :init (setq projectile-completion-system 'ivy)
  :bind-keymap
  ("C-c p" . projectile-command-map))

(use-package magit
    :commands magit-status magit-blame
    :bind (("s-g" . magit-status)
	   ("s-b" . magit-blame))
    :config
    (evil-collection-magit-setup))


(use-package direnv)

(provide 'site-packages)
